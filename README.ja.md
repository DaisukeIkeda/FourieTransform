フーリエ変換（級数）の理解を支援するアプリ
===============
九州大学 情報学部門 池田 大輔(daisuke@inf.kyushu-u.ac.jp)

# 概略
このアプリは、作者が九州大学理学部物理学科情報理学コースの大学3, 4年生向けの授業での経験を元に、小学生にもフーリエ変換（または級数）の基本アイデアを伝えたいと思い作成したものです。

フーリエ変換（級数）は積分、無限級数、三角関数などの概念を使って記述され、理系の大学3年生程度の知識が必要になる。しかし、現象としては虹や音の合成など、日常的に経験することも多く、基本的なアイデアが理解できれば、光や音の実験器具とあわせて、楽しい科学実験ができるのではないかという思いつきから始まりました。このあたりの経緯は
[小学生に教えるフーリエ変換](https://researchmap.jp/jow16lae8-617/)
をご覧ください。

アプリの利用にあたって制限や制約はありませんが、論文を発表するような立場の方であれば、以下の論文を引用していただけると有難いです。
> Daisuke Ikeda: "LESSONS ON INFORMATION IN TERMS OF THE FOURIER TRANSFORM FOR PRIMARY-AGED STUDENTS", Proceedings of the 12th annual International Technology, Education and Development Conference (INTED2018), pp. 3734-3739, 2018.

# インストールおよび使い方
0. ダウンロードしたファイルをWebサーバ配下の適当な場所へ置き、当該URLへアクセスします。あるいは、[九州大学に設置したサーバ上に置いた当アプリ](https://rebrand.ly/486fe)にスマホやタブレット、パソコンのブラウザからアクセスします。
1. ▲や▼ボタンを使って「送信ブロック」の形を決めます。
2. 「計算！」ボタンを押すと4つの基本ブロック（基底ベクトル）の個数（係数）を計算します。これらの基本ブロックは4つの要素が4つで、成分で書くと(1, 1, 1, 1), (1, 1, -1, -1), (1, -1, -1, 1), (1, -1, 1, -1)となります。例えば、最初の基本ベクトル(1, 1, 1, 1)の個数が2の場合、基本ブロックの左4つの高さは全てになります。
3. 「再構成」ボタンを押すと、4つの基本ブロックを、それぞれ要素ごとに足して、「受信ブロック」に表示します。「再構成」は、基本ブロックの下にあるチェックボックにチェックを入れたもののみを用いるます。全てにチェックを入れたら、必ず元の形と一致します。
4. チェックがないものがあると、一致しませんが、この時の距離を「再構成」ボタンの横に表示します。チェックが多いほうが距離が小さくなる（元の形に近づく）ことを確認しましょう。

# アプリを使って授業等をする先生へ
全体としては送りたい形を数字などで伝え、受信者側で同じ形、あるいは、近い形を再現しよう、という形になっています。

「送信ブロック」は送りたい形になります。関数をガタガタした形で標本化、離散化したものと考えてもよいでしょう。「送信ブロック」は4つの高さで表されるので、そのまま4つの数字を送れば、受信者側でも同じ形を再現できますが、ここでは違うやり方で考えます。具体的には全体の平均（最初の基本ブロック）と、様々な組み合わせの半分ずつの平均（他の3つの基本ブロック）で、元の形が再現できます。

まず、最初の基本ブロック(1, 1, 1, 1)の個数は、「送信ブロック」中の4つのブロックの高さの平均を表しています。例えば、「送信ブロック」が(4, 2, 0, 2)の時、最初の基本ブロックの個数は2ですが、これは(4+2+0+2)/4と等しく、平均と同じになります。

2番目の基本ブロックは(1, 1, -1, -1)の個数は、「送信ブロック」中の4つのブロックの高さの、左半分と右半分の平均の、全体の平均からの差を表しています。例えば、さっきの(4, 2, 0, 2)の例では、左半分の平均は3, 右半分の平均は1ですが、全体の平均である2からの差は、それぞれ1と-1です。これを(2, 1, -1)と3つで表すのではなく、(2, 1)と表わすのがポイントです。これは、全体からの平均の差（ズレ）は、必ず絶対値が等しいため、例えば、左側を正とすることで、一つの数字で表せます。例えば、全体からの平均の差が-2と2の場合は左側の-2だけで表す、ということです。

同様に3番目の基本ブロック(1, -1, -1, 1)は、外側2つと内側2つに分けた場合で、4番目の基本ブロック(1, -1, 1, -1)は、1, 3番目と2, 4番目に分けた場合に対応します。

もともとの形の4つをそのまま送るのに比べると、何回も平均を計算するのは面倒そうに思いますが、実は元の形（ベクトル）と各基本ブロック（基底ベクトル）との内積なので、それほど大変ではありません。

計算は大変でないにしても、なぜこんなこととをするかというと、周波数を用いた情報圧縮ができるからです。4つの基本ベクトルの中では(1, 1, 1, 1)が全体の平均で、もっともおおまかな形になります。逆に(1, -1, 1, -1)は正負がすぐに交代していて、周波数が大きい（周期が短い）基本ブロック（基底ベクトル）です。人間の目や耳は、ある周波数の範囲しか認識できないため、4つの基本ブロックで厳密に表現できる場合でも、最も周波数が大きな4番目を除いて、3つの基本ブロック（基底ベクトル）を用いても、人間が認識できる範囲では、元の情報との違いが認識できない、ということです。
